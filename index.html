<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Infinity Blox Fruits</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
}

header {
  background: linear-gradient(90deg,#7c3aed,#2563eb);
  padding: 25px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1 { margin: 0; }

.admin-btn {
  padding: 8px 14px;
  background: #020617;
  color: #e5e7eb;
  border: 1px solid #1e293b;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
}

.container {
  max-width: 1100px;
  margin: auto;
  padding: 20px;
}

.card {
  background: #020617;
  padding: 20px;
  border-radius: 12px;
  border: 1px solid #1e293b;
  margin-bottom: 20px;
}

.price {
  color: #22c55e;
  font-size: 20px;
  font-weight: bold;
  margin: 10px 0;
}

button {
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: #22c55e;
  font-weight: bold;
  cursor: pointer;
}

.delete {
  background: #ef4444;
  color: #fff;
  margin-top: 8px;
}

input, textarea {
  width: 100%;
  padding: 10px;
  border-radius: 6px;
  border: none;
  margin-top: 8px;
}

.admin { display: none; }

.product {
  margin-bottom: 15px;
}

.review {
  border-top: 1px solid #1e293b;
  padding-top: 10px;
  margin-top: 10px;
}
</style>
</head>

<body>

<header>
  <h1>üî• Infinity Blox Fruits</h1>
  <button class="admin-btn" onclick="openAdmin()">√Årea Admin</button>
</header>

<div class="container">

<!-- PRODUTOS -->
<div class="card">
  <h2>üíé Contas Dispon√≠veis</h2>
  <div id="products"></div>

  <button onclick="window.open('https://wa.me/5524998647157')">
    Comprar no WhatsApp
  </button>
</div>

<!-- AVALIA√á√ïES -->
<div class="card">
  <h2>‚≠ê Avalia√ß√µes</h2>

  <input id="email" placeholder="Seu email">
  <textarea id="comment" placeholder="Seu coment√°rio"></textarea>
  <button onclick="addReview()">Enviar Avalia√ß√£o</button>

  <div id="reviews"></div>
</div>

<!-- PAINEL ADMIN -->
<div class="card admin" id="adminPanel">
  <h2>üîß Painel Administrativo</h2>

  <h3>‚ûï Adicionar nova conta</h3>
  <input id="newName" placeholder="Nome da conta">
  <textarea id="newDesc" placeholder="Descri√ß√£o da conta"></textarea>
  <input id="newPrice" placeholder="Pre√ßo (ex: R$ 30,00)">
  <button onclick="addProduct()">Adicionar Conta</button>

  <h3 style="margin-top:20px;">‚úèÔ∏è Editar / Remover contas</h3>
  <div id="adminProducts"></div>
</div>

</div>

<script>
const ADMIN_EMAIL = "SEUEMAIL@gmail.com"; // MUDE
const ADMIN_PASS  = "SUASENHA";           // MUDE

let isAdmin = false;

/* ===== LOGIN ADMIN ===== */
function openAdmin() {
  const email = prompt("Digite o email de administrador:");
  const pass = prompt("Digite a senha:");

  if (email === ADMIN_EMAIL && pass === ADMIN_PASS) {
    isAdmin = true;
    adminPanel.style.display = "block";
    loadProducts();
    loadReviews();
    alert("Acesso liberado!");
  } else {
    alert("Dados incorretos.");
  }
}

/* ===== PRODUTOS ===== */
function getProducts() {
  return JSON.parse(localStorage.getItem("products")) || [
    { name: "Conta Iniciante", desc: "Boa para come√ßar", price: "R$ 15,00" },
    { name: "Conta Avan√ßada", desc: "Level alto + progresso", price: "R$ 20,00" },
    { name: "Conta MAX Level", desc: "Level 2550 ‚Ä¢ Endgame", price: "R$ 25,00" }
  ];
}

function saveProducts(products) {
  localStorage.setItem("products", JSON.stringify(products));
}

function loadProducts() {
  const products = getProducts();
  const div = document.getElementById("products");
  const adminDiv = document.getElementById("adminProducts");

  div.innerHTML = "";
  adminDiv.innerHTML = "";

  products.forEach((p, i) => {
    // VISITANTE
    const box = document.createElement("div");
    box.className = "product";
    box.innerHTML = `
      <h3>${p.name}</h3>
      <p>${p.desc}</p>
      <div class="price">${p.price}</div>
    `;
    div.appendChild(box);

    // ADMIN
    if (isAdmin) {
      const adminBox = document.createElement("div");
      adminBox.className = "product";
      adminBox.innerHTML = `
        <input value="${p.name}" onchange="editProduct(${i}, 'name', this.value)">
        <textarea onchange="editProduct(${i}, 'desc', this.value)">${p.desc}</textarea>
        <input value="${p.price}" onchange="editProduct(${i}, 'price', this.value)">
        <button class="delete" onclick="deleteProduct(${i})">Remover</button>
      `;
      adminDiv.appendChild(adminBox);
    }
  });
}

function addProduct() {
  const name = newName.value;
  const desc = newDesc.value;
  const price = newPrice.value;

  if (!name || !desc || !price) {
    alert("Preencha tudo!");
    return;
  }

  const products = getProducts();
  products.push({ name, desc, price });
  saveProducts(products);

  newName.value = "";
  newDesc.value = "";
  newPrice.value = "";

  loadProducts();
}

function editProduct(index, field, value) {
  const products = getProducts();
  products[index][field] = value;
  saveProducts(products);
  loadProducts();
}

function deleteProduct(index) {
  const products = getProducts();
  products.splice(index, 1);
  saveProducts(products);
  loadProducts();
}

/* ===== AVALIA√á√ïES ===== */
function addReview() {
  const email = document.getElementById("email").value;
  const comment = document.getElementById("comment").value;
  if (!email || !comment) return;

  const reviews = JSON.parse(localStorage.getItem("reviews")) || [];
  reviews.push({ email, comment });
  localStorage.setItem("reviews", JSON.stringify(reviews));

  email.value = "";
  comment.value = "";
  loadReviews();
}

function loadReviews() {
  const reviewsDiv = document.getElementById("reviews");
  reviewsDiv.innerHTML = "";
  const reviews = JSON.parse(localStorage.getItem("reviews")) || [];

  reviews.forEach((r, i) => {
    const div = document.createElement("div");
    div.className = "review";
    div.innerHTML = `
      <b>${r.email}</b><br>
      ${r.comment}
      ${isAdmin ? `<br><button class="delete" onclick="deleteReview(${i})">Apagar</button>` : ""}
    `;
    reviewsDiv.appendChild(div);
  });
}

function deleteReview(i) {
  const reviews = JSON.parse(localStorage.getItem("reviews"));
  reviews.splice(i, 1);
  localStorage.setItem("reviews", JSON.stringify(reviews));
  loadReviews();
}

/* INIT */
loadProducts();
loadReviews();
</script>

</body>
</html>
